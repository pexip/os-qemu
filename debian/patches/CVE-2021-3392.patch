
--- qemu-3.1+dfsg.orig/hw/scsi/mptsas.c
+++ qemu-3.1+dfsg/hw/scsi/mptsas.c
@@ -252,13 +252,11 @@ static int mptsas_build_sgl(MPTSASState
 
 static void mptsas_free_request(MPTSASRequest *req)
 {
-    MPTSASState *s = req->dev;
 
     if (req->sreq != NULL) {
         req->sreq->hba_private = NULL;
         scsi_req_unref(req->sreq);
         req->sreq = NULL;
-        QTAILQ_REMOVE(&s->pending, req, next);
     }
     qemu_sglist_destroy(&req->qsg);
     g_free(req);
@@ -304,7 +302,6 @@ static int mptsas_process_scsi_io_reques
     }
 
     req = g_new0(MPTSASRequest, 1);
-    QTAILQ_INSERT_TAIL(&s->pending, req, next);
     req->scsi_io = *scsi_io;
     req->dev = s;
 
@@ -1319,8 +1316,6 @@ static void mptsas_scsi_realize(PCIDevic
 
     s->request_bh = qemu_bh_new(mptsas_fetch_requests, s);
 
-    QTAILQ_INIT(&s->pending);
-
     scsi_bus_new(&s->bus, sizeof(s->bus), &dev->qdev, &mptsas_scsi_info, NULL);
 }
 
--- qemu-3.1+dfsg.orig/hw/scsi/mptsas.h
+++ qemu-3.1+dfsg/hw/scsi/mptsas.h
@@ -74,7 +74,6 @@ struct MPTSASState {
     uint16_t reply_frame_size;
 
     SCSIBus bus;
-    QTAILQ_HEAD(, MPTSASRequest) pending;
 };
 
 void mptsas_fix_scsi_io_endianness(MPIMsgSCSIIORequest *req);
